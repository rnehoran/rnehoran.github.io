<html>
	<head>
        <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
        <link rel="icon" href="images/icon.png" />
        <title>Roy's Art Gallery</title>
		<style>
			.art_container {
				-webkit-transition: opacity 2s; /* Safari */
				transition: opacity 2s;
    			opacity: 0;
    			position: absolute;
    			display: inline;
			}
			img.artwork {
			}
			#frame {
				position: absolute;
				bottom: -125px;
				left: -108px;
			}
			.frame {
				height: 300px;
			}
			.label {
				position: absolute;
				width: 200px;
				padding: 20px;
				padding-right: 25px;
				padding-left: 25px;
				bottom: 0;
				background-image:url(images/label.png);
				background-size: 100% 100%;
				font-family: 'Roboto', sans-serif;
				color: 2A2824;
			}
			.center {
    			position: absolute;
    			display: inline;
				left: 0;
				right: 0;
				margin-left: auto;
				margin-right: auto;
			}
            #loading, #title, #copyright {
                opacity: 0;
                -webkit-transition: opacity 1s; /* Safari */
				transition: opacity 1s;
            }
		</style>
		<script>
			var LINK = 0;
			var TITL = 1;
			var DATE = 2;
			var NAME = 3;
			var DESC = 4;
			var CNVW = 5;
			var CNVH = 6;
			var IMGW = 7;
			var IMGH = 8;

			var frame_thickness = 58;
			var gap = 92;

			var min_width = 284;
			var min_height = 248;
			var max_height = 500;
			var max_width = 615;

			var n = 0;

			var art_details = [
                ["0B01yLbkETyknVWxSNm0zTkpXNWM", "Ladybug on Leaf", "January 2017", "Roy Nehoran", "Acrylic on Canvas", 11, 8, 615, 481],
				["0B01yLbkETyknTWtoeDBWZU5fQjA", "Old Israeli Coin", "November 2016", "Roy Nehoran", "Acrylic on Canvas", 12, 16, 397, 500],
				["0B01yLbkETyknNjhTVmRaQ1dORjg", "Flying Eagle", "September 2016", "Roy Nehoran", "Charcoal on Paper", 8.5, 9.5, 615, 352],
				["0B01yLbkETyknVnZTUWdmRndhTVE", "Roadside", "August 2016", "Roy Nehoran", "Pencil on Paper", 9, 12, 363, 500],
				["0B01yLbkETyknZW9zd0tSbktZTzQ", "Fresh Fruit", "August 2016", "Roy Nehoran", "Acrylic on Canvas", 12, 9, 615, 447],
				["0B01yLbkETyknMUVxWE95a195U2s", "Mountain Path", "July 2016", "Roy Nehoran", "Acrylic on Canvas", 10, 8, 615, 488],
				["0B01yLbkETyknU2I4WTV3dTktaDA", "Wildflowers", "July 2016", "Roy Nehoran", "Acrylic on Canvas", 9, 12, 363, 500],
				["0B01yLbkETyknSndPbk1NODBabFk", "River Delta", "January 2013", "Roy Nehoran", "Acrylic on Canvas", 10, 8, 615, 491],
                ["0B01yLbkETyknV2N0Qk51aWs3ejQ", "Wintry Beach", "December 2012", "Roy Nehoran", "Acrylic on Canvas", 10, 8, 615, 489],
				["0B01yLbkETyknT1ZPRmVFa3ZCNnM", "Surf of the Storm", "December 2012", "Roy Nehoran", "Acrylic on Canvas", 10, 8, 615, 483]
            ];
			var num = art_details.length;

            function display(){
				setTimeout(function(){
                    document.getElementById("loading").style.opacity = 0;
                    x = document.getElementsByClassName("art_container");
                    setTimeout(function(){
                        for (j = 0; j < x.length; j++) {
                            x[j].style.opacity = 1;
                        }
                    }, 500);
				}, 1000);
			}

            function displayID(id){
                document.getElementById(id).style.opacity = 1;
            }

			function initArt(){

				var vertical = 250;
				var image_width;
			    var image_height;
			    var ext_width;
			    var ext_height;
			    var hw_ratio;
				var halign;
				var valign;
				var label_halign;
				var lalign;

                document.body.innerHTML += "<img id='loading' onload='displayID(\"loading\")' style='width:400; top:350' class='center' src='images/loading.png'>";
                document.body.innerHTML += "<img id='title' onload='displayID(\"title\")' style='width: 1100px; top:0;' class='center' src='images/title.png'>";

				for (var i = 0; i < num; i++) {

					// alert(k);
				    image_width = art_details[i][IMGW];
				    image_height = art_details[i][IMGH];
					hw_ratio = image_height/image_width;
			    	//alert("image onload");
			    	image_height = 100 * Math.sqrt(art_details[i][CNVH]);
			    	image_width = image_height/hw_ratio;

			    	if(image_width > max_width){
			    		image_width = max_width;
				    	image_height = image_width*hw_ratio;
			    	}
			    	if(image_height > max_height){
			    		image_height = max_height;
				    	image_width = image_height/hw_ratio;
			    	}
			    	if(image_width < min_width){
			    		image_width = min_width;
				    	image_height = image_width*hw_ratio;
			    	}
			    	if(image_height < min_height){
			    		image_height = min_height;
				    	image_width = image_height/hw_ratio;
			    	}
					ext_width = image_width - 280;
					ext_height = image_height - 243;

					lalign = 110 + image_width;
					valign = "top: " + (vertical + gap + frame_thickness) + "; ";
					//alert(frame_thickness);
					//alert(valign);
					if ((i % 2) == 0){
						halign = "left: 150; ";
						label_halign = "left: " + lalign + "; ";							
					}
					else {
						lalign -= 10;
					    halign = "right: 170; ";
						label_halign = "right: " + lalign + "; ";
					}
				    document.body.innerHTML += "<div style='" + halign + valign + "' class='art_container'>" + 
				    								"<img style='height:" + image_height + "; width:" + image_width + ";' class='artwork' src='https://drive.google.com/uc?id=" + art_details[i][LINK] + "'>" +
				    								"<table id='frame' border='0' cellpadding='0' cellspacing='0'>" +
				    									"<tr>" + 
				    										"<td>" + 
				    											"<img src='images/frame_tl.png' width='248' height='248' alt=''>" + 
		    												"</td>" + 
		    												"<td  style='background-image:url(images/frame_tm.png); background-repeat: repeat-x; background-size: 4px'>" + 
		    													"<div class='frame_horizontal' style='height:248; width:" + ext_width + ";'>" + 
	    													"</td>" + 
	    													"<td>" + 
	    														"<img src='images/frame_tr.png' width='248' height='248' alt=''>" + 
    														"</td>" + 
														"</tr>" + 
														"<tr>" + 
															"<td  style='background-image:url(images/frame_ml.png); background-repeat: repeat-y; background-size: 248px 4px'>" + 
																"<div class='frame_vertical' style='width:248; height:" + ext_height + "'>" + 
															"</td>" + 
															"<td width='4' height='4'>" + 
															"<td  style='background-image:url(images/frame_mr.png); background-repeat: repeat-y; background-size: 248px 4px'>" + 
																"<div class='frame_vertical' style='width:248; height:" + ext_height + "'>" + 
															"</td>" + 
														"</tr>" + 
														"<tr>" + 
															"<td>" + 
																"<img src='images/frame_bl.png' width='248' height='248' alt=''>" + 
															"</td>" + 
															"<td  style='background-image:url(images/frame_bm.png); background-repeat: repeat-x; background-size: 4px'>" + 
																"<div class='frame_horizontal' style='height:248; width:" + ext_width + "'>" + 
															"</td>" + 
															"<td>" + 
																"<img src='images/frame_br.png' width='248' height='248' alt=''>" + 
															"</td>" + 
														"</tr>" + 
													"</table>" + 
													"<div  class='label' style='" + label_halign + "'>" + 
														"<b style='line-height: 1.5; font-size: 18;'>" + 
															art_details[i][TITL] + 
														"</b>" + 
														"<br>" + 
														art_details[i][DATE] + 
														"<br>" + 
														"<p style='font-size: 12;'>" + 
															art_details[i][NAME] + 
															"<br>" + 
															art_details[i][DESC] + " " + art_details[i][CNVH] + "\"x" + art_details[i][CNVW] + "\"" + 
															"<br>" + 
														"</p>" + 
													"</div>" + 
												"</div>";
				    //alert(image_height);
					//alert(vertical);
					vertical = vertical + gap + (2 * frame_thickness) + image_height;
				}
				document.body.innerHTML += "<img id='copyright' onload='displayID(\"copyright\"); display();' style='width: 800px; top:" + (vertical + 40) + "' class='center' src='images/copyright.png'>" +
											"<a href='mailto:nt2@nehoran.com' style='right:8px; width: 174px; height: 22px; top:" + (vertical + 158) + "' class='center'></a>";
            }
		</script>
	</head>
	<body onload="initArt()" style="overflow-y: scroll; background-size: 100%; background-color: a38665" background="images/background.jpg">
	</body>
</html>
